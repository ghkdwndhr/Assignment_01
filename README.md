# 🚦 Assignment_01: Traffic Light System
🎬 [**시연 영상 바로가기 클릭!**](https://youtu.be/8Jzuu0xIzUE?si=eMNhA77QmRPGlkq4)

---

## 🧠 개요
이번 과제는 **Arduino**와 **p5.js**를 활용하여 신호등 시스템을 하드웨어와 웹 인터페이스로 제어하는 프로젝트입니다. LED, 버튼, 가변저항 등을 이용해 신호등을 구현하고, 웹에서는 슬라이더 및 버튼 UI를 통해 상태를 실시간 모니터링하고 제어할 수 있습니다.

---

## 🛠️ 주요 기능

### ✅ 신호등 제어
- 빨강, 노랑, 초록 LED를 사용하여 실제 신호등 동작 재현
- TaskScheduler를 사용하여 `delay()` 없이 비동기 제어

### 🔄 모드 전환 (버튼 & 웹 UI)
- 🔴 **Red Only**: 비상 모드 – 빨간불만 점등
- ✨ **All Blink**: 경고 모드 – 모든 LED 깜빡임
- ⛔ **All Off**: 전체 정지 – 모든 LED 꺼짐  
- 버튼 또는 웹 UI에서 토글 가능

### 🎛️ 슬라이더를 통한 점등 시간 조절 (웹 UI)
- 빨간불, 노란불, 초록불의 지속 시간을 웹 슬라이더로 설정
- 설정값은 아두이노로 전송되어 실시간 반영됨

### 🌟 밝기 조절 (하드웨어)
- 가변저항을 통해 LED의 밝기를 실시간 조절



## 🧩 하드웨어 구성도
  
📸 틴커캐드를 이용 회로 사진
  
![image](https://github.com/user-attachments/assets/6ed0030c-bfac-411e-83a2-655e16af9422)

---

### ⚡ 핀 구성

- 🔴 **Red LED**             : 핀 9  
- 🟡 **Yellow LED**          : 핀 10  
- 🟢 **Green LED**           : 핀 11  
- 🎚️ **가변저항**            :  A0  
- 🔘 **버튼 1** (Red Only)   : 핀 4  
- 🔘 **버튼 2** (Blink)      : 핀 5  
- 🔘 **버튼 3** (Off)        : 핀 6


## 💻 소프트웨어 구성

### Arduino (C++)
- `TaskScheduler` 라이브러리를 사용한 주기적 LED 제어
- `PinChangeInterrupt`를 통한 버튼 인터럽트 처리
- 시리얼 통신을 통해 p5.js와 데이터 송수신

### p5.js (JavaScript)
- 웹 UI 구성 (슬라이더, 버튼, 신호등 시각화)
- Serial API를 통해 아두이노와 연결 및 제어
- 아두이노로부터 실시간 상태 데이터 수신 (JSON)

- ---

## 🚀 사용 방법

1. 아두이노 보드에 코드 업로드 (PlatformIO 또는 Arduino IDE 사용)
2. 웹 브라우저에서 `p5.js` 프로젝트 실행
3. `Connect` 버튼을 눌러 포트 연결
4. 버튼 / 슬라이더 조작을 통해 신호등 제어 및 상태 확인

---

---

## ✋ Assignment_02: Gesture-Controlled Traffic Light Extension

이번 과제에서는 기존 신호등 제어 시스템에 **비전 기반 제스처 인식 기능**을 추가하여, 손동작만으로 LED 모드 변경과 지속 시간 조절이 가능하도록 확장하였습니다.
(기존 회로와 아두이노 코드는 동일합니다.)

---

## 🎯 추가된 기능 요약

| 기능 | 설명 |
|------|------|
| 🖐️ **제스처 기반 모드 변경** | 주먹, 브이, 세 손가락, 손바닥을 이용해 모드 전환 |
| ☝️ **제스처 기반 슬라이더 조절** | 손가락으로 LED 선택 후, 위/아래로 움직여 지속 시간 제어 |
| 🟠 **조정 모드 시각화** | 선택한 LED 주황색 표시 및 텍스트 안내 제공 |
| 🕒 **자동 모드 종료** | 손이 사라지거나 1.5초 이상 제스처 없으면 자동 종료 |

---

## ✋ 제스처 기반 모드 변경

웹캠에 손을 인식시키면 아래와 같은 동작으로 모드를 변경할 수 있습니다.

| 제스처 | 전환 모드 |
|--------|-----------|
| ✊ 주먹 | `Normal` 모드 (자동 순환) |
| ✌️ 브이 (V) | `Red Only` 모드 |
| 🤟 세 손가락 | `All Blink` 모드 |
| ✋ 손바닥 전체 펼침 | `All Off` 모드 |

> 📌 인식된 모드는 왼쪽 상단에 `"📘 Mode: Red Only"` 형태로 표시됩니다.

---

## 🔧 제스처 기반 지속 시간 조절

이제 각 LED는 슬라이더 없이 손가락만으로 점등 시간 조절이 가능합니다.

### ⚙️ 조절 방법

1. 검지를 LED 원 위에 가져가면 해당 LED가 **주황색**으로 표시됨
2. `"⏱️ Duration adjustment mode..."` 텍스트가 뜨며 조정 모드 진입
3. 손가락을 **위로 올리면** 점등 시간 증가  
4. 손가락을 **아래로 내리면** 점등 시간 감소  
5. 손이 사라지거나 1.5초 이상 제스처 없으면 자동 종료  

### ⏲️ 조절 범위

- 빨간불, 노란불, 초록불 모두 **0ms ~ 5000ms (0초 ~ 5초)** 사이로 조정 가능
- **100ms 단위**로 변경됨 (`+100`, `-100`)

---

## 🖼️ 제스처 동작 예시

| LED 선택 | 조절 모드 | 동작 예시 |
|----------|-----------|------------|
| 검지로 Red LED 클릭 | 조정 모드 진입 | LED가 주황색으로 표시됨 |
| 손가락 위로 이동 | +100ms 증가 | 슬라이더 값 +100 |
| 손가락 아래 이동 | -100ms 감소 | 슬라이더 값 -100 |
| 손을 치우거나 가만히 1.5초 | 자동 종료 | Normal 모드 복귀 |

---

## 🎥 영상 시연 포함

**[▶️ 유튜브 시연 영상 보기](https://youtu.be/3jnbWydFa98?si=vTx5IvqU4wJjhg2R)**  
영상에서는 **모드 전환 + 슬라이더 조절** 기능이 모두 정상적으로 작동하는 과정을 시연합니다.

---

## 🧠 제스처 정의 기준

| 손가락 조합 | 조건 (각 손가락 펴짐 여부) |
|-------------|---------------------------|
| ✊ 주먹 | 엄지를 제외한 네 손가락이 접힘 |
| ✌️ 브이 | 검지 + 중지만 펴짐 |
| 🤟 세 손가락 | 검지 + 중지 + 약지만 펴짐 |
| ✋ 손 펼침 | 모든 손가락이 펴짐 |

> 각 손가락의 마디 좌표 (`landmarks`)를 비교하여 위 조건을 판별함

---


